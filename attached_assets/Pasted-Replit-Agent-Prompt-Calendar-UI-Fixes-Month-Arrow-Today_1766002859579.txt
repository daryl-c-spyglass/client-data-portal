Replit Agent Prompt — Calendar UI Fixes (Month Arrow, Today Button, View All Details + Agent + Legend Colors)

You are working in the existing Mission Control web app – Calendar page. Fix the following Calendar UI issues without changing overall styling.

1) Month Filter: Right Arrow overlaps Sort arrow (ALIGNMENT FIX)
Issue

In the Filters row, the Month navigation right arrow overlaps the Sort dropdown arrow.

Requirements

Adjust layout so Month nav arrows never overlap Sort.

Put Month controls into their own container:

Left arrow, month label, right arrow

Ensure Sort control has its own spacing and min width.

Implementation guidance

Use a flex row with clear spacing:

display: flex; align-items: center; gap: 8px;

Add min-width to Sort container and prevent negative margins.

Ensure z-index doesn’t cause click overlap.

Acceptance test

In Month view at normal desktop width and smaller widths, both arrows + Sort dropdown are fully visible and clickable separately.

2) Today button not working (FUNCTIONAL FIX)
Issue

Clicking Today does not reset the calendar to the current date period.

Requirements (must work in all views)

Month view: jump to current month and highlight today

Week view: jump to the week containing today

Day view: jump to today

List view: reset anchor date to today and reload visible range

Implementation guidance

Use a single source of truth date state: anchorDate

Clicking Today sets: anchorDate = new Date()

Recompute date range from anchorDate based on view

Trigger data reload for the new range (keep agent filter + sort + view mode unchanged)

Acceptance test

Navigate to Dec 2025 → click Today → returns to the real current month/week/day depending on view.

3) Month View “View all” popover: show agent + apply legend colors
Issue

When Agent filter = All agents, clicking View all currently shows appointment titles only. We must also show:

Agent name (who it belongs to)

Color indicator matching the Legend colors

This must work specifically in Month view.

Requirements

When Agent filter is “All agents”:

In the “View all (N)” floating card/popover:

Each item must display:

Title

Time (start–end)

Type (task/appointment/event)

Agent name (resolved from agentId → agentName)

A color dot/left border using the same color mapping as the Legend

Color mapping must be consistent:

The same color used in the month cell item must be used inside the View All list.

The Legend keys must match what is displayed (no mismatches).

Implementation guidance

Ensure every normalized CalendarItem has:

agentId

agentName (map using FUB users list, reuse Leads user fetching logic)

colorKey or color derived from the same source that drives the Legend

In “View all” popover:

render a small colored badge/dot and agent name line

keep it readable and compact

Acceptance test

Set Agent filter to All agents

Go to Month view

Click “View all (N)” on a busy date

Popover shows full list with agent names and each row has the correct legend color indicator

Deliverables

File paths changed

Confirmation that:

Month right arrow no longer overlaps Sort arrow

Today button works correctly in all views

View all popover shows agent name + correct legend colors when All agents