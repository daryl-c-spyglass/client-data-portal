I need to understand the current architecture before implementing a new Listing Presentation feature with role-based access control. Please answer the following questions about this project:


1. DATABASE
â–¡ What database is this project using?
  - PostgreSQL?
  - Supabase?
  - Firebase/Firestore?
  - MongoDB?
  - Replit Database (key-value)?
  - Other?

â–¡ Where is the database connection configured?
  - File path?
  - Environment variables used?

â–¡ What ORM or database client is used?
  - Prisma?
  - Drizzle?
  - Knex?
  - Raw SQL?
  - Supabase client?
  - Other?

â–¡ Where are database schemas/models defined?
  - Prisma schema file?
  - Migration files?
  - Type definitions?

2. AUTHENTICATION
â–¡ What OAuth provider is used?
  - Google?
  - Auth0?
  - Clerk?
  - Supabase Auth?
  - NextAuth?
  - Custom?

â–¡ Where is auth configured?
  - File path(s)?

â–¡ What user data is stored after login?
  - id?
  - email?
  - name?
  - profile photo?
  - Other fields?

â–¡ Where is the user model/table defined?
  - File path or table name?

â–¡ Does a "role" field already exist on users?
  - If yes, what values?
  - If no, confirm we need to add it

â–¡ How is the current user accessed in components?
  - Context/hook name? (e.g., useAuth, useUser, useSession)
  - File path?

3. EXISTING CMA MODULE
â–¡ Where is the CMA feature implemented?
  - Folder/file paths?

â–¡ What is the CMA data model/schema?
  - Fields stored?
  - Table name?

â–¡ How does CMA PDF export currently work?
  - What library? (pdf-lib, pdfmake, puppeteer, react-pdf?)
  - Where is export logic?

â–¡ Is there a Presentation Builder already?
  - If yes, where is it located?
  - What sections/toggles exist?

4. FILE STORAGE
â–¡ Where are uploaded files stored?
  - Replit Object Storage?
  - Supabase Storage?
  - AWS S3?
  - Cloudinary?
  - Local filesystem?

â–¡ Where is file upload logic implemented?
  - File path?
  - What library/SDK?

â–¡ What is the current max file size limit?

5. PROJECT STRUCTURE
â–¡ What is the frontend framework?
  - React?
  - Next.js?
  - Vite + React?

â–¡ What is the folder structure?
  Please show output of:
  - /src or root directory tree
  - /components
  - /pages or /app
  - /api or /server

â–¡ What styling is used?
  - Tailwind CSS?
  - CSS Modules?
  - Styled Components?
  - Other?

â–¡ What UI component library (if any)?
  - shadcn/ui?
  - Material UI?
  - Chakra?
  - Custom?

6. API STRUCTURE
â–¡ How are API routes structured?
  - Next.js API routes (/pages/api or /app/api)?
  - Express backend?
  - Separate server?

â–¡ Where is the Repliers API integration?
  - File path?
  - How is the API key stored?

7. ENVIRONMENT VARIABLES
â–¡ List all current environment variables (names only, not values):
  - Database connection?
  - Auth secrets?
  - API keys?
  - Is VITE_MAPBOX_TOKEN configured? (saw error in screenshot)

8. EXISTING USER ROLES (if any)
â–¡ Are there any existing admin/role concepts in the codebase?
  - Search for: "admin", "role", "permission", "super"
  - Any results?

ðŸ“‹ SUMMARY REQUEST

After answering the above, please provide:

A summary of the tech stack
The exact file path where I should add a "role" field to users
The exact file path where route protection/auth checks happen
Any concerns or blockers for adding role-based access control